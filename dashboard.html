<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | ğŸ“š æ›¸åº«</title>
    <style>
        :root {
            --silver: #C0C0C0;
            --beige: #F5F5DC;
            --etoupe: #8B7D6B;
            --kinari: #FBFAF5;
            --text-dark: #3D3D3D;
            --text-muted: #6B6B6B;
            --border: #D4D0C8;
            --accent: #8B7D6B;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: "Helvetica Neue", "Hiragino Sans", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
            background: var(--kinari);
            color: var(--text-dark);
            min-height: 100vh;
            line-height: 1.7;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        header {
            text-align: center;
            padding: 2rem 1rem;
            border-bottom: 1px solid var(--border);
            margin-bottom: 2rem;
        }
        header h1 {
            font-size: 1.8rem;
            font-weight: 400;
            color: var(--etoupe);
            letter-spacing: 0.1em;
        }
        header .tagline {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }
        nav {
            display: flex;
            justify-content: center;
            gap: 2rem;
            padding: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        nav a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: all 0.2s;
        }
        nav a:hover, nav a.active {
            color: var(--etoupe);
            background: var(--beige);
        }
        
        /* Grid Layout */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        /* Cards */
        .card {
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(139, 125, 107, 0.08);
        }
        .card h2 {
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }
        
        /* Price Cards */
        .price-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border);
        }
        .price-item:last-child {
            border-bottom: none;
        }
        .price-name {
            font-weight: 500;
            color: var(--text-dark);
        }
        .price-symbol {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-left: 0.5rem;
        }
        .price-value {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--etoupe);
        }
        .price-change {
            font-size: 0.85rem;
            margin-left: 0.5rem;
        }
        .price-change.up { color: #2E7D32; }
        .price-change.down { color: #C62828; }
        
        /* Trigger List */
        .trigger-item {
            padding: 1rem 0;
            border-bottom: 1px solid var(--border);
        }
        .trigger-item:last-child {
            border-bottom: none;
        }
        .trigger-word {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--etoupe);
            margin-bottom: 0.5rem;
        }
        .trigger-action {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        /* Market Overview */
        .market-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
        }
        .market-label {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        .market-value {
            font-weight: 500;
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
            font-size: 0.85rem;
            border-top: 1px solid var(--border);
            margin-top: 2rem;
        }
        footer a {
            color: var(--etoupe);
            text-decoration: none;
        }
        
        /* Last Update */
        .last-update {
            text-align: center;
            color: var(--text-muted);
            font-size: 0.8rem;
            margin-top: 1rem;
        }
        
        /* Refresh Button */
        .refresh-btn {
            background: var(--beige);
            color: var(--etoupe);
            border: 1px solid var(--border);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }
        .refresh-btn:hover {
            background: var(--etoupe);
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>DASHBOARD</h1>
            <p class="tagline">Personal Command Center</p>
        </header>

        <nav>
            <a href="index.html">ãƒ›ãƒ¼ãƒ </a>
            <a href="dashboard.html" class="active">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a>
            <a href="wishlist.html">ã‚„ã‚ŠãŸã„ã“ã¨</a>
            <a href="articles.html">è¨˜äº‹</a>
            <a href="conversations.html">ä¼šè©±å±¥æ­´</a>
            <a href="usage.html">ä½¿ç”¨é‡</a>
            <a href="projects.html">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</a>
            <a href="daily-research.html">ãƒªã‚µãƒ¼ãƒ</a>
        </nav>

        <div class="grid">
            <!-- Crypto & Gold Prices -->
            <div class="card">
                <h2>ğŸ’° ç›¸å ´</h2>
                <div class="price-item">
                    <div>
                        <span class="price-name">Bitcoin</span>
                        <span class="price-symbol">BTC</span>
                    </div>
                    <div>
                        <span class="price-value" id="btc-price">--</span>
                        <span class="price-change" id="btc-change">--</span>
                    </div>
                </div>
                <div class="price-item">
                    <div>
                        <span class="price-name">Monero</span>
                        <span class="price-symbol">XMR</span>
                    </div>
                    <div>
                        <span class="price-value" id="xmr-price">--</span>
                        <span class="price-change" id="xmr-change">--</span>
                    </div>
                </div>
                <div class="price-item">
                    <div>
                        <span class="price-name">Gold</span>
                        <span class="price-symbol">XAU</span>
                    </div>
                    <div>
                        <span class="price-value" id="gold-price">--</span>
                        <span class="price-change" id="gold-change">--</span>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 1rem;">
                    <button class="refresh-btn" onclick="fetchPrices()">æ›´æ–°</button>
                </div>
            </div>

            <!-- World Market -->
            <div class="card">
                <h2>ğŸŒ ä¸–ç•Œå¸‚æ³</h2>
                <div class="market-item">
                    <span class="market-label">æ—¥çµŒå¹³å‡</span>
                    <span class="market-value" id="nikkei">--</span>
                </div>
                <div class="market-item">
                    <span class="market-label">S&P 500</span>
                    <span class="market-value" id="sp500">--</span>
                </div>
                <div class="market-item">
                    <span class="market-label">ãƒ‰ãƒ«/å††</span>
                    <span class="market-value" id="usdjpy">--</span>
                </div>
                <div class="market-item">
                    <span class="market-label">ç±³10å¹´å‚µ</span>
                    <span class="market-value" id="us10y">--</span>
                </div>
                <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 1rem;">
                    â€» å¸‚æ³ãƒ‡ãƒ¼ã‚¿ã¯å‚è€ƒå€¤ã§ã™
                </p>
            </div>

            <!-- Triggers -->
            <div class="card">
                <h2>âš¡ ãƒˆãƒªã‚¬ãƒ¼ãƒ¯ãƒ¼ãƒ‰</h2>
                <div class="trigger-item">
                    <div class="trigger-word">ğŸŒ™ ãŠã‚„ã™ã¿</div>
                    <div class="trigger-action">
                        â†’ ãƒ­ã‚°ä¿å­˜ â†’ ã‚µã‚¤ãƒˆæ›´æ–° â†’ ä½¿ç”¨é‡ç¢ºèª
                    </div>
                </div>
                <div class="trigger-item">
                    <div class="trigger-word">â˜€ï¸ ãŠã¯ã‚ˆã†</div>
                    <div class="trigger-action">
                        â†’ å¤©æ°—ç¢ºèª â†’ äºˆå®šç¢ºèª â†’ æœªå®Œäº†ã‚¿ã‚¹ã‚¯å ±å‘Š
                    </div>
                </div>
                <div class="trigger-item">
                    <div class="trigger-word">ğŸ“Š ä½¿ç”¨é‡</div>
                    <div class="trigger-action">
                        â†’ Claudeä½¿ç”¨çŠ¶æ³ã‚’å–å¾—ãƒ»å ±å‘Š
                    </div>
                </div>
                <div class="trigger-item">
                    <div class="trigger-word">ğŸ’° ç›¸å ´</div>
                    <div class="trigger-action">
                        â†’ XMR/BTC/Gold ã®ç¾åœ¨ä¾¡æ ¼
                    </div>
                </div>
            </div>

            <!-- Weather -->
            <div class="card">
                <h2>ğŸŒ¤ï¸ å¤©æ°—äºˆå ±ï¼ˆå­¦åœ’å‰é§…å‘¨è¾ºï¼‰</h2>
                <div class="market-item">
                    <span class="market-label">æ¦‚æ³</span>
                    <span class="market-value" id="weather-condition">--</span>
                </div>
                <div class="market-item">
                    <span class="market-label">ğŸŒ… 6:30 ä½“æ„Ÿæ¸©åº¦</span>
                    <span class="market-value" id="temp-morning">--</span>
                </div>
                <div class="market-item">
                    <span class="market-label">â˜€ï¸ 13:00 ä½“æ„Ÿæ¸©åº¦</span>
                    <span class="market-value" id="temp-noon">--</span>
                </div>
                <div class="market-item">
                    <span class="market-label">ğŸ’¨ é¢¨ã®å¼·ã•</span>
                    <span class="market-value" id="wind-speed">--</span>
                </div>
                <div class="market-item">
                    <span class="market-label">ğŸ’§ æ¹¿åº¦</span>
                    <span class="market-value" id="humidity">--</span>
                </div>
                <div class="market-item">
                    <span class="market-label">ğŸ‘• æ´—æ¿¯æ—¥å’Œ</span>
                    <span class="market-value" id="laundry">--</span>
                </div>
                <div class="market-item">
                    <span class="market-label">ğŸ˜Š å¿«é©æŒ‡æ•°</span>
                    <span class="market-value" id="comfort">--</span>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="card">
                <h2>ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h2>
                <div class="trigger-item">
                    <div class="trigger-word">å‘½ä»¤æ›¸ä¸€è¦§</div>
                    <div class="trigger-action">
                        ç¾åœ¨ã®å‘½ä»¤æ›¸ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¡¨ç¤º
                    </div>
                </div>
                <div class="trigger-item">
                    <div class="trigger-word">ãƒ­ã‚°ä¿å­˜</div>
                    <div class="trigger-action">
                        ä»Šæ—¥ã®ä¼šè©±ã‚’Webã‚µã‚¤ãƒˆã«ä¿å­˜
                    </div>
                </div>
                <div class="trigger-item">
                    <div class="trigger-word">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</div>
                    <div class="trigger-action">
                        é€²è¡Œä¸­ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
                    </div>
                </div>
            </div>
        </div>

        <p class="last-update">æœ€çµ‚æ›´æ–°: <span id="last-update">--</span></p>

        <footer>
            <p><a href="index.html">â† ğŸ“š æ›¸åº«</a></p>
        </footer>
    </div>

    <script>
        async function fetchPrices() {
            try {
                // CoinGecko API for crypto
                const cryptoRes = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,monero&vs_currencies=usd&include_24hr_change=true');
                const cryptoData = await cryptoRes.json();
                
                // Bitcoin
                document.getElementById('btc-price').textContent = '$' + cryptoData.bitcoin.usd.toLocaleString();
                const btcChange = cryptoData.bitcoin.usd_24h_change.toFixed(1);
                document.getElementById('btc-change').textContent = (btcChange > 0 ? '+' : '') + btcChange + '%';
                document.getElementById('btc-change').className = 'price-change ' + (btcChange >= 0 ? 'up' : 'down');
                
                // Monero
                document.getElementById('xmr-price').textContent = '$' + cryptoData.monero.usd.toLocaleString();
                const xmrChange = cryptoData.monero.usd_24h_change.toFixed(1);
                document.getElementById('xmr-change').textContent = (xmrChange > 0 ? '+' : '') + xmrChange + '%';
                document.getElementById('xmr-change').className = 'price-change ' + (xmrChange >= 0 ? 'up' : 'down');
                
                // Gold (approximate - using a placeholder since free gold APIs are limited)
                document.getElementById('gold-price').textContent = 'â‰ˆ $2,750';
                document.getElementById('gold-change').textContent = '--';
                
                // Market indices (placeholders - would need proper API)
                document.getElementById('nikkei').textContent = 'â‰ˆ 40,000';
                document.getElementById('sp500').textContent = 'â‰ˆ 6,100';
                document.getElementById('usdjpy').textContent = 'â‰ˆ 156';
                document.getElementById('us10y').textContent = 'â‰ˆ 4.6%';
                
                // Update timestamp
                document.getElementById('last-update').textContent = new Date().toLocaleString('ja-JP');
            } catch (err) {
                console.error('Error fetching prices:', err);
            }
        }
        
        async function fetchWeather() {
            try {
                // å­¦åœ’å‰é§…: 34.6847, 135.7611
                const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=34.6847&longitude=135.7611&current=temperature_2m,apparent_temperature,relative_humidity_2m,wind_speed_10m,weather_code&hourly=apparent_temperature,precipitation_probability,wind_speed_10m&timezone=Asia/Tokyo&forecast_days=1');
                const data = await res.json();
                
                // Weather codes to Japanese
                const weatherCodes = {
                    0: 'â˜€ï¸ å¿«æ™´', 1: 'ğŸŒ¤ï¸ æ™´ã‚Œ', 2: 'â›… æ›‡ã‚ŠãŒã¡', 3: 'â˜ï¸ æ›‡ã‚Š',
                    45: 'ğŸŒ«ï¸ éœ§', 48: 'ğŸŒ«ï¸ éœ§æ°·', 51: 'ğŸŒ§ï¸ å°é›¨', 53: 'ğŸŒ§ï¸ é›¨',
                    55: 'ğŸŒ§ï¸ å¼·ã„é›¨', 61: 'ğŸŒ§ï¸ å°é›¨', 63: 'ğŸŒ§ï¸ é›¨', 65: 'ğŸŒ§ï¸ å¤§é›¨',
                    71: 'ğŸŒ¨ï¸ å°é›ª', 73: 'ğŸŒ¨ï¸ é›ª', 75: 'ğŸŒ¨ï¸ å¤§é›ª', 80: 'ğŸŒ§ï¸ ã«ã‚ã‹é›¨',
                    95: 'â›ˆï¸ é›·é›¨'
                };
                
                const code = data.current.weather_code;
                document.getElementById('weather-condition').textContent = weatherCodes[code] || 'ä¸æ˜';
                
                // Morning (6:30 = index 6) and Noon (13:00 = index 13)
                const morningTemp = data.hourly.apparent_temperature[6];
                const noonTemp = data.hourly.apparent_temperature[13];
                document.getElementById('temp-morning').textContent = morningTemp + 'Â°C';
                document.getElementById('temp-noon').textContent = noonTemp + 'Â°C';
                
                // Wind
                const wind = data.current.wind_speed_10m;
                let windLevel = 'ğŸƒ ç©ã‚„ã‹';
                if (wind > 10) windLevel = 'ğŸ’¨ ã‚„ã‚„å¼·ã„';
                if (wind > 20) windLevel = 'ğŸŒ¬ï¸ å¼·ã„';
                if (wind > 30) windLevel = 'ğŸŒªï¸ éå¸¸ã«å¼·ã„';
                document.getElementById('wind-speed').textContent = wind + ' km/h ' + windLevel;
                
                // Humidity
                const humidity = data.current.relative_humidity_2m;
                document.getElementById('humidity').textContent = humidity + '%';
                
                // Laundry (good if sunny/cloudy, low rain prob, wind ok)
                const rainProb = Math.max(...data.hourly.precipitation_probability.slice(8, 17));
                let laundry = 'ğŸ”´ ä¸å‘ã';
                if (code <= 3 && rainProb < 30 && wind < 25) laundry = 'ğŸŸ¢ æœ€é©ï¼';
                else if (code <= 3 && rainProb < 50) laundry = 'ğŸŸ¡ ã¾ã‚ã¾ã‚';
                document.getElementById('laundry').textContent = laundry;
                
                // Comfort index
                let comfort = 'ğŸ˜ æ™®é€š';
                if (noonTemp >= 15 && noonTemp <= 25 && humidity >= 40 && humidity <= 70 && wind < 15) {
                    comfort = 'ğŸ˜Š å¿«é©';
                } else if (noonTemp < 5 || noonTemp > 35 || humidity > 85) {
                    comfort = 'ğŸ˜£ ä¸å¿«';
                }
                document.getElementById('comfort').textContent = comfort;
                
            } catch (err) {
                console.error('Weather error:', err);
            }
        }
        
        // Load on page load
        window.onload = function() {
            fetchPrices();
            fetchWeather();
        };
    </script>
</body>
</html>
